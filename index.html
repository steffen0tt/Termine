<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kita-Termine 2025</title>
<style>
  :root{
    --bg:#fbfbfd;
    --card:#ffffff;
    --text:#263238;
    --muted:#61717a;
    --accent:#0066c0;
    --radius:14px;
    --padding:18px;
    --gap:16px;
    --pastel-blue:#d8eefe;
    --pastel-red:#ffd9d9;
    --pastel-green:#e6f7ea;
    --pastel-orange:#fff0da;
    --pastel-purple:#f3e9ff;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background:var(--bg);
    color:var(--text);
  }
  header{
    background:linear-gradient(90deg,#004b8d,#0066c0);
    padding:28px 16px;
    text-align:center;
    border-bottom-left-radius:18px;
    border-bottom-right-radius:18px;
    color:white;
  }
  header h1{margin:0;font-size:1.6rem;}
  header p{margin:10px 0 0;opacity:.95;font-size:.95rem;}
  nav{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:14px;}
  .filter-btn{
    background:white;
    border-radius:999px;
    padding:8px 12px;
    font-weight:700;
    border:1px solid rgba(0,0,0,0.06);
    cursor:pointer;
    transition:.2s;
  }
  .filter-btn:hover{background:#dbe9ff;}
  .filter-btn.active{
    background:#004b8d;
    color:white;
    box-shadow:0 4px 12px rgba(0,0,0,0.25);
  }
  main{max-width:1100px;margin:20px auto;padding:18px;}
  .month{margin-bottom:26px;}
  .month h2{margin:6px 6px 12px;font-size:1.05rem;color:#233444;display:flex;align-items:center;gap:8px;}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:var(--gap);}
  .card{background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:0 6px 18px rgba(20,40,60,0.06);display:flex;flex-direction:column;gap:10px;transition:transform .14s ease;min-height:120px;}
  .card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(20,40,60,0.08);}
  .row{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;}
  .title{font-weight:600;font-size:1rem;color:var(--text);}
  .meta{font-size:.92rem;color:var(--muted);}
  .time{font-weight:700;color:#223344;}
  .pill{padding:6px 10px;border-radius:999px;font-size:.78rem;font-weight:600;display:inline-flex;gap:8px;align-items:center;}
  .type-parents{background:var(--pastel-blue);color:#064b8b;}
  .type-closed{background:var(--pastel-red);color:#8b1d1d;}
  .type-party{background:var(--pastel-green);color:#13522a;}
  .type-info{background:var(--pastel-orange);color:#6a3f00;}
  .type-other{background:var(--pastel-purple);color:#4b2a7a;}
  .buttons{margin-top:auto;display:flex;gap:8px;flex-wrap:wrap;}
  .btn{background:linear-gradient(180deg,#ffffff,#f6f8ff);border:1px solid rgba(0,0,0,0.06);padding:8px 12px;border-radius:10px;font-weight:600;font-size:.9rem;color:var(--accent);text-decoration:none;display:inline-flex;gap:8px;align-items:center;}
  .btn-ical{background:linear-gradient(180deg,#fff,#f7fff8);color:#0a7a3f;border-color:rgba(10,122,63,0.12);}
  .btn-google{background:linear-gradient(180deg,#fff,#f2f6ff);color:#134f9c;border-color:rgba(19,79,156,0.12);}
  footer{text-align:center;color:var(--muted);font-size:.9rem;margin:28px auto 60px;}
  @media (max-width:520px){header h1{font-size:1.2rem;}.card{padding:12px;}main{padding:12px;}}
</style>
</head>
<body>
<header>
  <h1>üìÖ Kita-Termine 2025</h1>
  <p>Monats√ºbersicht ¬∑ iCal mit Erinnerung 2 Tage vorher ¬∑ Zeitzone: Europe/Berlin</p>
  <nav id="filters">
    <button class="filter-btn active" data-group="all">üåç Alle</button>
    <button class="filter-btn" data-group="Klavierschildkr√∂ten">üê¢ Klavierschildkr√∂ten</button>
    <button class="filter-btn" data-group="Klangkobolde">üßö Klangkobolde</button>
    <button class="filter-btn" data-group="Trompetentiger">üêØ Trompetentiger</button>
    <button class="filter-btn" data-group="Fl√∂tenfohlen">üê¥ Fl√∂tenfohlen</button>
    <button class="filter-btn" data-group="Melodiezauberer">‚ú® Melodiezauberer</button>
    <button class="filter-btn" data-group="Musikwichtel">üéµ Musikwichtel</button>
  </nav>
</header>

<main id="main"></main>

<footer>¬© Kita ¬∑ Stand: 2025</footer>

<script>
/* events array (wie bisher) */
const events=[ /* ... alle Termine aus deiner Datei ... */ ];

/* --- Hilfsfunktionen --- */
function toDate(s){return s.includes("T")?new Date(s):new Date(s+"T00:00:00");}
function toICSDateTimeLocal(s){
  if(!s.includes("T")) return s.replace(/-/g,"");
  const d=new Date(s);
  const y=d.getFullYear(),mo=("0"+(d.getMonth()+1)).slice(-2),da=("0"+d.getDate()).slice(-2),
        hh=("0"+d.getHours()).slice(-2),mm=("0"+d.getMinutes()).slice(-2),ss=("0"+d.getSeconds()).slice(-2);
  return `${y}${mo}${da}T${hh}${mm}${ss}`;
}

/* Enddatum inklusive letzter Tag */
function inclusiveEndDate(ev){
  const endDate=new Date(ev.end+"T00:00:00");
  endDate.setDate(endDate.getDate()+1);
  endDate.setHours(0,0,0,0);
  return endDate;
}

/* ICS mit VALARM */
function createVEvent(ev){
  const start=toICSDateTimeLocal(ev.start);
  const end=toICSDateTimeLocal(inclusiveEndDate(ev).toISOString());
  const uid=Math.random().toString(36).slice(2)+Date.now();
  return `BEGIN:VEVENT
UID:${uid}
DTSTART;TZID=Europe/Berlin:${start}
DTEND;TZID=Europe/Berlin:${end}
SUMMARY:${ev.title}
DESCRIPTION:Erinnerung: 2 Tage vor dem Termin
BEGIN:VALARM
TRIGGER:-P2D
ACTION:DISPLAY
DESCRIPTION:Erinnerung: 2 Tage vor dem Termin
END:VALARM
END:VEVENT`;
}

/* Google URL mit Hinweis */
function buildGoogleUrl(ev){
  const start=toICSDateTimeLocal(ev.start);
  const end=toICSDateTimeLocal(inclusiveEndDate(ev).toISOString());
  const details=encodeURIComponent("üîî Erinnerung: 2 Tage vor dem Termin");
  return `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(ev.title)}&dates=${start}/${end}&ctz=Europe/Berlin&details=${details}`;
}

/* Navigation */
const filterButtons=document.querySelectorAll(".filter-btn");
filterButtons.forEach(btn=>{
  btn.addEventListener("click",()=>{
    filterButtons.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    filterByGroup(btn.dataset.group);
  });
});
function filterByGroup(group){
  document.querySelectorAll(".card").forEach(c=>{
    const gs=c.dataset.groups?c.dataset.groups.split(","):[];
    c.style.display=(group==="all"||gs.includes("all")||gs.map(x=>x.toLowerCase()).includes(group.toLowerCase()))?"":"none";
  });
}
</script>
</body>
</html>
