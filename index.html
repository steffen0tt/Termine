<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kita-Termine 2026</title>
<style>
:root{
  --bg:#fbfbfd; --card:#ffffff; --text:#263238; --muted:#61717a;
  --accent:#0066c0; --radius:14px; --padding:18px; --gap:16px;
  --pastel-blue:#d8eefe; --pastel-red:#ffd9d9; --pastel-green:#e6f7ea;
  --pastel-orange:#fff0da; --pastel-purple:#f3e9ff;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--text);}
header{
  background:linear-gradient(90deg,#6fb1ff,#9bd1ff);
  padding:28px 16px;text-align:center;
  border-bottom-left-radius:18px;border-bottom-right-radius:18px;color:white;
}
header h1{margin:0;font-size:1.6rem;}
header p{margin:10px 0 0;opacity:0.95;font-size:0.95rem;}
nav{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:14px;}
.filter-btn{
  background:white;border-radius:999px;padding:8px 12px;
  font-weight:700;border:1px solid rgba(0,0,0,0.06);
  cursor:pointer;transition:all .2s ease;
}
.filter-btn.active{
  background:var(--accent);color:white;
  box-shadow:0 6px 18px rgba(0,0,0,0.1);
  transform:translateY(-2px);
}
main{max-width:1100px;margin:20px auto;padding:18px;}
.card{background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:0 6px 18px rgba(20,40,60,0.06);display:flex;flex-direction:column;gap:10px;transition:transform .14s ease;min-height:120px;}
.card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(20,40,60,0.08);}
.title{font-weight:600;font-size:1rem;color:var(--text);}
.meta{font-size:0.92rem;color:var(--muted);}
.time{font-weight:700;color:#223344;}
.buttons{margin-top:auto;display:flex;gap:8px;flex-wrap:wrap;}
.btn{
  background:linear-gradient(180deg,#ffffff,#f6f8ff);
  border:1px solid rgba(0,0,0,0.06);
  padding:8px 12px;border-radius:10px;
  font-weight:600;font-size:0.9rem;color:var(--accent);
  text-decoration:none;display:inline-flex;gap:8px;align-items:center;
}
.btn-ical{background:linear-gradient(180deg,#fff,#f7fff8);color:#0a7a3f;border-color:rgba(10,122,63,0.12);}
.btn-google{background:linear-gradient(180deg,#fff,#f2f6ff);color:#134f9c;border-color:rgba(19,79,156,0.12);}
.btn-outlook{background:linear-gradient(180deg,#fff,#eef5ff);color:#0057ae;border-color:rgba(0,87,174,0.12);}
footer{text-align:center;color:var(--muted);font-size:0.9rem;margin:28px auto 60px;}
@media (max-width:520px){header h1{font-size:1.2rem;} .card{padding:12px;} main{padding:12px;}}
</style>
</head>
<body>
<header>
  <h1>🧡 Kita-Termine 2026</h1>
  <p>Monatsübersicht · iCal / Google / Outlook · Erinnerung 2 Tage vorher</p>
  <nav id="filters">
    <button class="filter-btn active" data-group="all">🌍 Alle</button>
    <button class="filter-btn" data-group="Klavierschildkröten">🐢 Klavierschildkröten</button>
    <button class="filter-btn" data-group="Klangkobolde">🧚 Klangkobolde</button>
    <button class="filter-btn" data-group="Trompetentiger">🐯 Trompetentiger</button>
    <button class="filter-btn" data-group="Flötenfohlen">🐴 Flötenfohlen</button>
    <button class="filter-btn" data-group="Melodiezauberer">✨ Melodiezauberer</button>
    <button class="filter-btn" data-group="Musikwichtel">🎵 Musikwichtel</button>
  </nav>
</header>

<main id="main"></main>

<footer>© Kita · Stand: 2026 · Zeitzone: Europe/Berlin</footer>

<script>
const events = [
  { title: "Neujahrskonzert", start: "2026-01-24", end: "2026-01-24" },
  { title: "Elternabend Flötenfohlen", start: "2026-02-04T18:00:00", end: "2026-02-04T19:00:00" },
  { title: "Elternabend Trompetentiger", start: "2026-02-05T18:00:00", end: "2026-02-05T19:00:00" },
  { title: "Elternabend Klangkobolde", start: "2026-02-11T18:00:00", end: "2026-02-11T19:00:00" },
  { title: "Elternabend Klavierschildkröten", start: "2026-02-12T18:00:00", end: "2026-02-12T19:00:00" },
  { title: "Elternrat", start: "2026-02-18T18:00:00", end: "2026-02-18T19:00:00" },
  { title: "Fasching", start: "2026-02-18", end: "2026-02-18" },
  { title: "Kita geschlossen! Konzepttag", start: "2026-02-20", end: "2026-02-20" },
  { title: "Elternabend Melodiezauberer", start: "2026-02-25T18:00:00", end: "2026-02-25T19:00:00" },
  { title: "Elternabend Musikwichtel", start: "2026-02-26T18:00:00", end: "2026-02-26T19:00:00" },
  { title: "Kita geschlossen! Konzepttag", start: "2026-04-13", end: "2026-04-13" },
  { title: "Kita geschlossen! Regenerationstag", start: "2026-05-15", end: "2026-05-15" },
  { title: "Elternrat", start: "2026-05-20T18:00:00", end: "2026-05-20T19:00:00" },
  { title: "Kita geschlossen! Betriebsausflug", start: "2026-06-12", end: "2026-06-12" },
  { title: "Verabschiedung Brückenjahr", start: "2026-06-19", end: "2026-06-19" },
  { title: "Sommerfest (Betreuung bis 13 Uhr)", start: "2026-06-26", end: "2026-06-26" },
  { title: "Kita geschlossen! Sommerschließzeit", start: "2026-07-20", end: "2026-07-31" },
  { title: "Elternabend Flötenfohlen", start: "2026-09-02T18:00:00", end: "2026-09-02T19:00:00" },
  { title: "Elternabend Trompetentiger", start: "2026-09-03T18:00:00", end: "2026-09-03T19:00:00" },
  { title: "Elternabend Klavierschildkröten", start: "2026-09-09T18:00:00", end: "2026-09-09T19:00:00" },
  { title: "Elternabend Melodiezauberer", start: "2026-09-10T18:00:00", end: "2026-09-10T19:00:00" },
  { title: "Elternabend Musikwichtel", start: "2026-09-16T18:00:00", end: "2026-09-16T19:00:00" },
  { title: "Elternabend Klangkobolde", start: "2026-09-17T18:00:00", end: "2026-09-17T19:00:00" },
  { title: "Kita geschlossen! Tag der mittelbaren Pädagogik", start: "2026-09-26", end: "2026-09-26" },
  { title: "Elternrat", start: "2026-09-30T18:00:00", end: "2026-09-30T19:00:00" },
  { title: "Kita geschlossen! Regenerationstag", start: "2026-10-05", end: "2026-10-05" },
  { title: "Herbstbasteln Trompetentiger", start: "2026-11-04T15:00:00", end: "2026-11-04T17:00:00" },
  { title: "Herbstbasteln Klavierschildkröten", start: "2026-11-05T15:00:00", end: "2026-11-05T17:00:00" },
  { title: "Info-Nachmittag Brückenjahr", start: "2026-11-11T15:00:00", end: "2026-11-11T17:00:00" },
  { title: "Herbstbasteln Flötenfohlen", start: "2026-11-12T15:00:00", end: "2026-11-12T17:00:00" },
  { title: "Kita geschlossen! Tag der Hamburger Richtlinien", start: "2026-11-13", end: "2026-11-13" },
  { title: "Lichterfest", start: "2026-11-20", end: "2026-11-20" },
  { title: "Adventssingen Musikwichtel & Trompetentiger", start: "2026-12-07T15:00:00", end: "2026-12-07T17:00:00" },
  { title: "Adventssingen Klangkobolde & Klavierschildkröten", start: "2026-12-09T15:00:00", end: "2026-12-09T17:00:00" },
  { title: "Adventssingen Melodiezauberer & Flötenfohlen", start: "2026-12-10T15:00:00", end: "2026-12-10T17:00:00" },
  { title: "Kita geschlossen! Winterschließzeit", start: "2026-12-24", end: "2027-01-01" }
];

function pad(n){return n.toString().padStart(2,"0");}
function toICSDateTimeLocal(s){if(!s.includes("T"))return s.replace(/-/g,"");const d=new Date(s);return`${d.getFullYear()}${pad(d.getMonth()+1)}${pad(d.getDate())}T${pad(d.getHours())}${pad(d.getMinutes())}00`;}
function utcNowICS(){return toICSDateTimeLocal(new Date().toISOString());}

function createVEvent(ev){
  const uid=`${Date.now()}-${Math.random().toString(36).slice(2,9)}@kitatermine.local`;
  const dtstamp=utcNowICS();
  if(!ev.start.includes("T")){
    const startY=ev.start.replace(/-/g,"");
    const endDate=new Date(ev.end+"T00:00:00");
    endDate.setDate(endDate.getDate()+1);
    const endY=endDate.toISOString().slice(0,10).replace(/-/g,"");
    return`BEGIN:VEVENT
UID:${uid}
DTSTAMP:${dtstamp}
DTSTART;VALUE=DATE:${startY}
DTEND;VALUE=DATE:${endY}
SUMMARY:${ev.title}
BEGIN:VALARM
TRIGGER:-P2D
ACTION:DISPLAY
DESCRIPTION:Erinnerung: Termin in 2 Tagen
END:VALARM
END:VEVENT`;
  } else {
    const dtStart=toICSDateTimeLocal(ev.start);
    const dtEnd=toICSDateTimeLocal(ev.end);
    return`BEGIN:VEVENT
UID:${uid}
DTSTAMP:${dtstamp}
DTSTART;TZID=Europe/Berlin:${dtStart}
DTEND;TZID=Europe/Berlin:${dtEnd}
SUMMARY:${ev.title}
BEGIN:VALARM
TRIGGER:-P2D
ACTION:DISPLAY
DESCRIPTION:Erinnerung: Termin in 2 Tagen
END:VALARM
END:VEVENT`;
  }
}

function buildEventICSDataUrl(ev){
  const content=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Kita//DE",createVEvent(ev),"END:VCALENDAR"].join("\r\n");
  return"data:text/calendar;charset=utf-8,"+encodeURIComponent(content);
}
function buildGoogleUrl(ev){
  if(!ev.start.includes("T")){
    const startY=ev.start.replace(/-/g,"");
    const endDate=new Date(ev.end+"T00:00:00");endDate.setDate(endDate.getDate()+1);
    const endY=endDate.toISOString().slice(0,10).replace(/-/g,"");
    return`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(ev.title)}&dates=${startY}/${endY}&ctz=Europe/Berlin&details=${encodeURIComponent("Erinnerung: bitte 2 Tage vorher setzen")}`;
  } else {
    const s=toICSDateTimeLocal(ev.start);const e=toICSDateTimeLocal(ev.end);
    return`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(ev.title)}&dates=${s}/${e}&ctz=Europe/Berlin&details=${encodeURIComponent("Erinnerung: bitte 2 Tage vorher setzen")}`;
  }
}

const main=document.getElementById("main");
events.forEach(ev=>{
  const card=document.createElement("div");
  card.className="card";
  const dateText=new Date(ev.start).toLocaleDateString("de-DE",{weekday:"short",day:"2-digit",month:"2-digit",year:"numeric"});
  card.innerHTML=`<div class="title">${ev.title}</div><div class="meta">${dateText}</div>`;
  const buttons=document.createElement("div");buttons.className="buttons";
  const aIcal=document.createElement("a");
  aIcal.className="btn btn-ical";aIcal.href=buildEventICSDataUrl(ev);
  aIcal.download=ev.title.replace(/[^\w\d\-_]+/g,"_")+".ics";aIcal.textContent="📅 iCal";
  const aOutlook=document.createElement("a");
  aOutlook.className="btn btn-outlook";aOutlook.href=buildEventICSDataUrl(ev);
  aOutlook.download=ev.title.replace(/[^\w\d\-_]+/g,"_")+".ics";aOutlook.textContent="📨 Outlook";
  const aGoogle=document.createElement("a");
  aGoogle.className="btn btn-google";aGoogle.href=buildGoogleUrl(ev);
  aGoogle.target="_blank";aGoogle.textContent="📆 Google";
  buttons.append(aIcal,aOutlook,aGoogle);
  card.append(buttons);
  main.append(card);
});
</script>
</body>
</html>
